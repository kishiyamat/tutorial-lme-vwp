---
layout: post
title: VWP の実験結果の分析
description: VWPの解説ページ
---

細かいコードは載せませんが、
全体の流れとしては
前処理、可視化、統計分析の3ステップです。

## 前処理

前処理では Tobii Pro Studio で出力したデータを
分析できる形にします。
前回の「ダブルチェック」の部分で述べたのですが、
Tobii Pro Studio の出力から以下の情報を抽出します。

* Timestamp
* XY座標
* 条件
* アイテム
* 被験者
* リスト番号

このデータを以下の条件を満たす形に整形します。

* 各試行の0から始まるtimestampを計算
* その時点で見ている対象を特定
    * XY座標に対応したAOI(Area of Interest)を特定
    * AOIに入っている画像を参照
* 被験者、条件、アイテムの情報を持つ
* 分析の対象となるタイミングが変わる場合: アイテムに依存する「興味のある時間幅」

これがわかれば分析に必要な情報はあります。

## 可視化

基本的には X に timestamp, Yに見ている対象を描画すればよいですが、
二つの対象のどちらを見ているかを知りたい場合は A/B のようにできます。
おそらくですが、A-Bとすれば
1だとAへの選好性を示し、-1だとBの選好性をしめす
可視化になると思います。

## 分析

本的に軸は2つで、GLMの範疇かどうか、時間を指定するかどうかだと思ってます。
ベースラインとなる手法は時間を指定したGLMの範疇の分析で、
これは仮説から「この時間にこの画像が多く見られなら仮説Aを支持」
みたいな予測が立てられているはずで、
その場合はその時間幅でデータを抜き出して分析すればOKです。
そして変なところで効果が出ていたら、
考察の部分で言及して解釈の候補を与えれば良いと思います。

時間を Permutation Test で指定してから分析にかける、
という方法もあるようです。
こちらは使ったことがないので残念ながら
「そういうのがあるらしいんですが」程度の情報しか共有できません。

GLMの範疇にない場合は Growth Curve Analysis というものもあります。
Xの2乗、3乗、4乗...となるにつれてグラフの曲がる回数は増えますが、
その手の変化をモデリングできます。
これはこれでちゃんと手法があり、
ナイーブにXを増やすだけだと多重共線性にハマるので、
使うときは注意しましょう。

## まとめ

以上、前処理、可視化、分析の概要でした。
細かいコードはそんなに大事ではないので書きませんでしたが、
興味のあるかたは [ソースコード](https://gitlab.com/kishiyamat/branching)
を乗っけておくのでそちらも参考にして、
質問があればご連絡ください。

[back](./)

